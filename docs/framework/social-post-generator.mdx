---
title: "Social post generator"
---

In this tutorial, you will use Writer Framework to build an application that generates social media posts and tags based on user input.

![Finished social post generator application](/framework/images/tutorial/social-finished-app.png)


## Setting up your project


### Creating a Writer app and getting your API key

From the Home screen, click on Build an app.

![Writer home screen](/framework/images/tutorial/home.png)

Select Framework as the app type you’d like to create, enabling you to generate keys and build your app with the Writer Framework.

![App type selection](/framework/images/tutorial/app-selection.png)

On the next screen, you can edit your Writer application name in the upper left. Underneath “Authenticate with an API key,” click on “Reveal” to see and copy your API key.


### Creating the application

Next, open your terminal and navigate to the directory where you want to create your application directory.

To pass your API key to Writer Framework, you will need to set an environment variable called `WRITER_API_KEY`. One simple way to do this is by exporting the variable for your terminal session. On Mac and Linux, you can run the following command, replacing `key` with your API key:


```
export WRITER_API_KEY=[key]
```


On Windows, use the following:


```
set WRITER_API_KEY=[key]
```


To create the application, run the following command:


```
writer create social-generator --template=ai-starter
```


This command will set up a new project called `social-generator` in the specified directory using an `ai-starter` template. To edit your project, run this command: 


```
writer edit social-generator
```


This will bring up the console, where Framework-wide messages and errors will appear, including logs from the API. 

By default, the Writer Framework Builder is accessible at `localhost:3006`. If that port is in use, run the `edit` command again with the `port` flag to specify your desired port:


```
writer edit social-generator –port=3007
```


Open this address in your browser to view your default application setup.


## Building the UI

The Writer Framework lets you set up any layout according to your preferences with a fast drag-and-drop UI. 


### Input layout

To rename this application and update the Header component, open the code editor and update `my_app.title` in `wf.init_state`:

```python
wf.init_state({
    "my_app": {
        "title": "SOCIAL POST GENERATOR"
    }
})
```

Click the provided Section component to open its Component Settings and clear out the default title. 

If you’d like, you can also change the Section’s colors. Choose “Pick” under Accent color to bring up a color picker and input `RGB(114,28,201)`. You can also input HSL or hex values by clicking on the switch currently labeled “RGB.” For the Container background, click “Pick” and input `RGB(237,226,255)`. 

Next, drag a Text Input component into the Section and label it with something like, “Topic for social posts.” Then, drag a Button component underneath the Text Input. You can replace the button text in the Component Settings panel with “Generate posts.” In the Icon field, add “arrow_forward.” 

To display loading messages, drag a Messages component underneath the Button. Click the component to bring up the component settings and update the Loading color to `RGB(212,255,242)`.


### Generated text layout

You’ll next build the layout for where the generated text displays. Drag a new Section component inside of the current Section component underneath the Messages component. Delete the Title text and update the Container background color to `RGB(246,239,253)`.

Next, drag a Tags component from the Content section of the Toolkit into the new Section.  

Then, drag a Separator component underneath the Tags component. 

Finally, drag a Text component underneath the button. This is where the text generated by the LLM will appear.

![Initial UI layout](/framework/images/tutorial/social-initial-ui-layout.png)


## Updating the code

With the UI set up, you’ll next add some code to add the user input to state, pass prompts to an LLM when the user clicks the button, and bind the resulting tags and text to state.

First, open the code editor. The `ai-starter` template already imports the Writer Framework and Writer AI packages: 


```
import writer as wf
import writer.ai
```


To create the hashtags, you’ll also need a regular expression library called `re`. Import that library at the top of the file:


```
import re
```


Initialize your application state by adding items to the state dictionary for `posts`, `topic`, and `message`. Your `intial_state` will look like this:

```python
wf.init_state({
    "my_app": {
        "title": "SOCIAL POST GENERATOR"
    },
    "posts": "",
    "topic": "writing",
    "message": ""
})    
```

You can enter any default topic you wish.

Next, add a method called `handle_button_click` to pass the user’s input to the Writer AI module. Copy and paste this code:

```python
def handle_button_click(state):
    state["message"] = "% Loading up expert social media posts..."
    
    prompt = f"You are a social media expert. Generate 5 engaging social media posts about {state['topic']}. Include emojis."
    state["posts"] = writer.ai.complete(prompt)

    prompt = f"You are a social media expert. Generate 5 hashtags about {state['topic']}, delimited by spaces. For example, #dogs #cats #ducks #elephants #badgers"
    pattern = r'#\w+'
    hashtags = re.findall(pattern, writer.ai.complete(prompt))
    state["tags"] = {item: item for item in hashtags}
    
    state["message"] = ""
```

This code first sets `state["message"]` to some loading text for a better user experience. Then, it uses text interpolation to create a `prompt` variable for generating the social posts. This practice makes it easy to create long prompts without losing readability. Next, the method uses the AI module’s `complete` method with a string prompt as an argument to call Writer’s text completion endpoint to generate the social posts. It repeats the same process for generating the hashtags, with some regular expression magic to pull the hashtags into a dictionary. Finally, it clears the status message.


## Binding to the UI components

The last task is to bind all of the state elements and the click handler to the UI.

First, click on the Text Input component to bring up the Component Settings panel. In the Bindings section, type `topic`. 

![Text input settings](/framework/images/tutorial/social-text-input-settings.png)

Next, click on the Button component to bring up the Component Settings panel. In the Events section, use the dropdown for `wf-click` to choose the `handle_button_click` handler.

![Button event handler settings](/framework/images/tutorial/social-button-event-settings.png)

Click on the Message component and set the Text to `@{message}`. Under Visibility, choose “Custom” and set it to `message`.

Next, click on the Tags component. Under General, click “JSON” for Tags and set the object to `@{tags}`. 

![Tags settings](/framework/images/tutorial/social-tags-settings.png)

Then, click on the Text component to bring up the Component Settings panel. In General Properties, bind this text box to a variable called `posts` by entering `@{posts}` in the text property field. You can also set this text box to accept Markdown input if needed by toggling the “Use Markdown” property.

![Text settings](/framework/images/tutorial/social-text-settings.png)

Finally, click on the Section that contains the Tags and Text components. Under Visibility, choose “Custom” and set it to `posts`.

When you save and run this code, your social media posts should will generate in the text section you created earlier. 

![Finished social post generator application](/framework/images/tutorial/social-finished-app.png)


## Deploying the application

To deploy the application to the Writer cloud from your terminal, either terminate your current Writer Framework process or open a new terminal session and run the following command:


```
writer deploy social-generator
```


Once the application has been deployed, the CLI will return with the URL of your live application.


## Conclusion

That's all it takes to set up a basic application with the Writer platform. This setup not only demonstrates the platform's capabilities but also provides a foundation on which you can build more complex applications. To learn more, explore the rest of the Writer Framework documentation and the API documentation. 