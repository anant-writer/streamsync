---
title: "Chat assistant"
---

In this tutorial, you will use Writer Framework to build an AI chat assistant.

[IMAGE: Screenshot of finished project]

## Setting up your project

### Creating a Writer app and getting your API key

From the Home screen, click on Build an app.

![Writer home screen](/framework/images/tutorial/home.png)

Select Framework as the app type you’d like to create, enabling you to generate keys and build your app with the Writer Framework.

![App type selection](/framework/images/tutorial/app-selection.png)

On the next screen, you can edit your Writer application name in the upper left. Underneath “Authenticate with an API key,” click on “Reveal” to see and copy your API key.


### Creating the application

Next, open your terminal and navigate to the directory where you want to create your application directory.

To pass your API key to Writer Framework, you will need to set an environment variable called `WRITER_API_KEY`. One simple way to do this is by exporting the variable for your terminal session. On Mac and Linux, you can run the following command, replacing `key` with your API key:


```
export WRITER_API_KEY=[key]
```


On Windows, use the following:


```
set WRITER_API_KEY=[key]
```


To create the application, run the following command:


```
writer create chat-assistant --template=ai-starter
```


This command will set up a new project called `chat-assistant` in the specified directory using a template called `ai-starter`. To edit your project, run this command: 


```
writer edit chat-assistant
```


This will bring up the console, where Framework-wide messages and errors will appear, including logs from the API. 

By default, the Writer Framework Builder is accessible at `localhost:3006`. If that port is in use, run the `edit` command again with the `port` flag to specify your desired port:


```
writer edit chat-assistant –port=3007
```


Open this address in your browser to view your default application setup.


## Creating the UI

The Writer Framework lets you set up any layout according to your preferences with a fast drag-and-drop UI. 

To rename this application and update the Header component, open the code editor and update `my_app.title` in `wf.init_state`:

```python
wf.init_state({
    "my_app": {
        "title": "CHAT ASSISTANT"
    }
})
```

Click the provided Section component to open its Component Settings and clear out the default title. If you’d like to provide any other instructions or context to the user, you can also drag a Text component into the section.

Finally, drag a Chatbot component into the Section beneath the Text box. 

![Initial UI with text and chatbot](/framework/images/tutorial/chat-initial-ui.png)


## Updating the code

With the UI built, you can now update your code.

To add chat functionality, first initialize your application state by clearing any default-generated state and adding a `conversation` property set to `writer.ai.Conversation()`. Update the `initial_state` with the following:

```python
wf.init_state({
    // Other state elements above
    "conversation": writer.ai.Conversation()
})
```

The `Conversation` method can optionally accept a dictionary or a content prompt (e.g. “You are a social media expert in the financial services industry”), but you can also leave it empty to use the defaults.

Next, create a handler for the Chatbot component by adding the following `handle_simple_message` handler: 

```python
def handle_simple_message(state, payload):
    state["conversation"] += payload
    
    for chunk in state["conversation"].stream_complete():
        state["conversation"] += chunk
```

The `Conversation` method is a wrapper for the `chat` API endpoint and can be used as a streaming function or a non-streaming function. This code uses the streaming version and adds each chunk that returns from the stream to the conversation variable in the application state.


## Binding to the UI

Click on the chatbot component to open up the Component Settings panel. Bind this chatbot to a conversation variable by adding `@{conversation}` in the Conversation Object property under General. This variable will reference the Writer AI SDK. You can also update properties such as the assistant's initials, the user's initials, and whether the chat uses markdown.

![Chatbot conversation object setting](/framework/images/tutorial/chat-conversation-setting.png)

Finally, attach the handler to the chatbot. In the User Interface, click on the chatbot component to bring up the Component Settings panel. Scroll to the Events section towards the bottom of the pane and choose the `handle_simple_message` handler for the `wf-chatbot-message` event.

![Chatbot event handler settings](/framework/images/tutorial/chat-event-handler.png) 

After saving and running your code, click the preview button and type something into your chat assistant. You should see the response appear on the screen as it comes back from the assistant. Congratulations!

[IMAGE: Screenshot of finished project]


## Deploying the application

To deploy the application to the Writer cloud, either terminate your current Writer Framework process or open a new terminal session and run the following command:


```
writer deploy chat-assistant
```


Once the application has been deployed, the CLI will return with the URL of your live application.


## Conclusion

That's all it takes to set up a basic application with the Writer platform. This setup not only demonstrates the platform's capabilities but also provides a foundation on which you can build more complex applications. To learn more, explore the rest of the Writer Framework documentation and the API documentation. 